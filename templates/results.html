<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@1.*/css/pico.min.css">
    <title>Résultats</title>
  </head>
  <body>
    <main class="container">
      <h2>Données extraites d'IdRef à partir du fichier soumis</h2>
      <table role="grid">
	<!-- table header -->
	<tr>
	  {% for key in result[0] %}
	  <th>{{ key }}</th>
	  {% endfor %}
	</tr>

	<!-- table rows -->
        {% for row in result %}
        <tr>
          {% for key, value in row.items() %}
          <td>
            {% if key == 'uris' %}
	    <ul>
              {% for url in value %}
              <li><a href="{{ url }}">{{ url }}</a></li>
              {% endfor %}
	    </ul>
            {% else %}
            {{ value }}
            {% endif %}
          </td>
          {% endfor %}
        </tr>
        {% endfor %}
      </table>
      <br />
      <button type="button" onclick="downloadTableAsCSV()">Exporter le tableau de résultat</button>
    </main>
    <footer>
      <small><a href="https://recherche-pireh.pantheonsorbonne.fr/">Pireh, Université Panthéon-Sorbonne</a>.</small>
      <br />
      <small><a href="https://github.com/PirehP1/html_to_historical_data">Code source</a>.</small>
    </footer>

  </body>
</html>
